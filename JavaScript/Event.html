<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <style>
       
        </style>
    </head>
    <body>
        <button class = "btn">Click me</button><br>
        <label>User name <input type = 'text'></label>
        <em class = 'message'></em>

        
        
        <script>
            /* 3. 이벤트의 종류 */
            //1. UI Event

            //load : 웹페이지의 로드가 완료 됐을 때
            //unload : 웹페이지가 언로드 될 때 (주로 새로운 페이지를 요청한 경우)
            //error : 브라우저가 자바스크립트 오류를 만났거나 요청한 자원이 존재하지 않는 경우
            //resize : 브라우저 창의 크기를 조절했을때
            //scroll : 사용자가 페이지를 위아래로 스크롤 할 때
            //select : 텍스트를 선택했을때

            //2. Keyboard Event

            //keydown : 키를 누르고 있을때
            //keyup : 누르고 있던 키를 뗄 때
            //keypress : 키를 누르고 뗏을 때

            //3.Mouse Event
            // click : 마우스 버튼을 클릭했을 때
            // dbclick : 마우스 더블클릭
            // mousedown : 마우스버튼을 누르고 있을때
            // mouseup : 누르던 마우스를 뗄 때
            // mousemove : 마우스를 움직일 때( 터치스크린에서 동작하지 않는다)
            // mouseover : 마우스를 요소위로 움직였을 때 (터치스크린 동작 x)
            // mouseout : 마우스를 요소 밖으로 움직였을 때

            //4.Focus Event
            //focus/focusin : 요소가 포커스를 얻었을 때
            //blur/focusout : 요소가 포커스를 잃었을 때

            //5.Form Event
            //input : input 또는 textarea 요소의 값이 변경되었을 때, contenteditable 어트리뷰튜를 가진 요소의 값이 변경되었을 때
            //change : select box, checkbox, radio button 의 상태가 변경 되었을 때
            //submit : form을 submit할때 (버튼 또는 키) 전송했을때?
            //reset : reset 버튼을 클릭 할때

            //6.Clipboard Event
            //cut : 콘텐츠를 잘라내기 할 때
            //copy : 콘텐츠를 복사 할 때
            //paste : 콘텐츠를 붙여넣기할 때

             

            /* 4. 이벤트 핸들러 등록 (3가지 방법)*/
            //1. 인라인 이벤트 핸들러 방식 (쓰지마라)

            //2. 이벤트 핸들러 프로퍼티 방식
            let btn = document.querySelector('.btn');

            btn.onclick = function()
            {
                alert('1 Button Clicked 1');
            };

            btn.onclick = function()
            {
                alert('2 Button clicked 2');
            };

            // addEventListener 메소드 방식
            btn.addEventListener('click', function ()
            {
                alert('② Button clicked 1');
            });

            btn.addEventListener('click', function ()
            {
                alert('② Button clicked 2');
            });

            //3. addEventListener 메소드 방식
            // 하나의 이벤트에 대해 하나 이상의 이벤트 핸들러를 추가할 수 있다.
            // 캡처링과 버블링을 지원한다.
            // HTML 요소뿐만아니라 모든 DOM 요소(HTML, XML, SVG)에 대해 동작한다. 브라우저는 웹 문서(HTML, XML, SVG)를 로드한 후, 파싱하여 DOM을 생성한다.
            // addEventListener('click', function()
            // {
            //     alert('Clicked!');
            // }) 
            //위와 같이 대상 DOM 요소(target)를 지정하지 않으면 전역객체 window, 즉 DOM 문서를 포함한 브라우저의 윈도우에서 발생하는 click 이벤트에 이벤트 핸들러를 바인딩한다.
            //따라서 브라우저 윈도우 어디를 클릭하여도 이벤트 핸들러가 동작한다.

            let input = document.querySelector('input[type=text]');
            let msg = document.querySelector('.message');
            input.addEventListener('blur', function()
            {
                if(input.value.length<2)
                {
                    msg.innerHTML = '이름은 2자 이상 입력해 주세요.';
                }
                else{
                    msg.innerHTML = '';
                }
            });

            //이와 같은 방법은 2자 이상이라는 규칙이 바뀌면 모든 코드를 수정해야함
            //그렇기 때문에 함수로 만드는것이 편함
            
            let MIN_USER_NAME_LENGTH = 2;
            input = document.querySelector('input[type=text]');
            msg = document.querySelector('.message');

            function checkUserNameLength(n)
            {
                if (input.value.length < n)
                {
                    msg.innerHTML = '이름은 ' + n + '자 이상이어야 합니다.';
                }
                else
                {
                    msg.innerHTML = '';
                }
            }

            input.addEventListener('blur', function ()
            {
                checkUserNameLength(MIN_USER_NAME_LENGTH);
            })

            /* 5. 이벤트 핸들러 함수 내부의 this*/
            
            // 이벤트 핸들러 프로퍼티 방식
            //이벤트 핸들러 프로퍼티 방식에서 이벤트 핸들러는 메소드이므로 이벤트 핸들러 내부의 this는 이벤트에 바인딩된 요소를 가리킨다. 
            //이것은 이벤트 객체의 currentTarget 프로퍼티와 같다.

            btn = document.querySelector('.btn');

            btn.onclick = function(e) {
                console.log(this);
                console.log(e.currentTarget);
                console.log(this ===e.currentTarget);
            }
            )

            //addEventListener 메소드 방식
            btn.addEventListener('click', function (e) {
                console.log(this);
                console.log(e.currentTarget);
                console.log(this === e.currentTarget);
            })

           //Event2.html로.....
        </script>
    </body>
</html>